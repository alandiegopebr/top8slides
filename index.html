<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arcade Prisma — Beat Garden</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas id="aether" aria-hidden="true"></canvas>

    <header class="hero">
      <div class="hero-copy">
        <p class="eyebrow">Beat Garden 1.0</p>
        <h1>Arcade Prisma</h1>
        <p>
          Um playground sonoro/cromático feito para jovens perderem a noção do tempo. Gere batidas, combine
          pulsos, libere combos e mantenha o hype vivo com streaks, missões, kits sonoros e sequências melódicas
          mutantes.
        </p>
        <div class="hero-actions">
          <button id="spawn" type="button">Criar batida</button>
          <button id="auto" type="button" aria-pressed="false">Fluxo automático</button>
          <button id="audio" type="button">Ativar áudio</button>
          <button id="clear" type="button">Limpar palco</button>
        </div>
      </div>
      <div class="hero-card">
        <h2>Por que vicia?</h2>
        <ul>
          <li>Loops que mudam a cada gesto.</li>
          <li>Combos, drops e glitchs desbloqueiam narrativas raras.</li>
          <li>Missões, kits e sequenciador mantêm o foco prolongado.</li>
        </ul>
      </div>
    </header>

    <main class="grid">
      <section class="stage" aria-label="Palco interativo">
        <div id="field" class="stage-field" role="presentation"></div>
        <p class="stage-hint">
          Clique para plantar batidas, arraste para redesenhar órbitas, sincronize combos, drops e glitchs.
        </p>
      </section>

      <section class="hud" aria-live="polite">
        <div class="stat-grid">
          <article>
            <p>Pulsos</p>
            <strong id="pulse-count">00</strong>
          </article>
          <article>
            <p>Hype</p>
            <strong id="hype-value">00</strong>
            <div class="bar"><span id="hype-bar"></span></div>
          </article>
          <article>
            <p>Streak</p>
            <strong id="streak-value">00</strong>
            <div class="bar"><span id="streak-bar"></span></div>
          </article>
          <article>
            <p>Melodias</p>
            <strong id="lane-count">00</strong>
            <div class="bar"><span id="melody-bar"></span></div>
          </article>
          <article>
            <p>Modo</p>
            <strong id="mode-label">Manual</strong>
          </article>
          <article>
            <p>Aurora</p>
            <strong id="aurora-state">Dormindo</strong>
          </article>
        </div>

        <div class="slider-row">
          <label for="bpm">Ritmo do universo <span id="bpm-readout">96 BPM</span></label>
          <input id="bpm" type="range" min="70" max="160" value="96" />
        </div>

        <div class="feed">
          <header>
            <h2>Feed de combos</h2>
            <button id="shuffle-beats" type="button">Misturar etapas</button>
          </header>
          <ul id="feed-list"></ul>
        </div>
      </section>

      <section class="soundlab">
        <h2>Sound Lab</h2>
        <p>Escolha kits, efeitos e ajustes finos para desbloquear novas atmosferas.</p>
        <div class="kit-selector" role="group" aria-label="Kits sonoros">
          <button class="chip" data-kit="synthwave">Synthwave</button>
          <button class="chip" data-kit="jungle">Jungle Nebulosa</button>
          <button class="chip" data-kit="hyperpop">Hyperpop Prisma</button>
        </div>
        <div class="fx-grid">
          <label class="fx-toggle">
            <input type="checkbox" id="fx-reverb" />
            <span>Reverb nebuloso</span>
          </label>
          <label class="fx-toggle">
            <input type="checkbox" id="fx-delay" />
            <span>Delay orbital</span>
          </label>
          <label class="fx-toggle">
            <input type="checkbox" id="fx-crush" />
            <span>Bitcrush glitch</span>
          </label>
        </div>
        <div class="slider-stack">
          <label for="poly">Polirritmia <span id="poly-readout">16 passos</span></label>
          <input id="poly" type="range" min="8" max="24" step="2" value="16" />
        </div>
        <div class="slider-stack">
          <label for="glitch">Probabilidade de glitch <span id="glitch-readout">5%</span></label>
          <input id="glitch" type="range" min="0" max="35" value="5" />
        </div>
        <div class="slider-stack">
          <label for="swing">Swing prismático <span id="swing-readout">00%</span></label>
          <input id="swing" type="range" min="0" max="60" value="0" />
        </div>
        <div class="slider-stack">
          <label for="humanize">Humanize melódico <span id="humanize-readout">08%</span></label>
          <input id="humanize" type="range" min="0" max="40" value="8" />
        </div>
        <div class="lab-actions">
          <button id="drop" type="button">Lançar drop</button>
        </div>
        <p class="lab-note">Mantenha o hype no topo para provocar tempestades Aurora e ver o playground retocar tudo sozinho.</p>
      </section>

      <section class="sequencer" aria-live="polite">
        <header>
          <div>
            <h2>Melodias prismáticas</h2>
            <p>Monte arpejos, polirritmos e surpresas harmônicas.</p>
          </div>
          <div class="lane-actions">
            <button id="add-lane" type="button">Adicionar melodia</button>
            <button id="randomize-lanes" type="button">Caos melódico</button>
          </div>
        </header>
        <div id="lane-list" class="lane-list" aria-label="Sequenciador"></div>
        <p id="lane-empty" class="lane-empty">Nenhuma melodia ativa — clique em "Adicionar" para começar.</p>
      </section>

      <section class="scene-forge">
        <header>
          <div>
            <h2>Scene Forge</h2>
            <p>Capture snapshots do palco e componha arranjos em slots.</p>
          </div>
          <div class="scene-actions">
            <button id="capture-scene" type="button">Capturar cena</button>
            <button id="export-project" type="button">Exportar mix</button>
          </div>
        </header>
        <ul id="scene-list" class="scene-list" aria-label="Slots de cena">
          <li>
            <button class="scene-slot" data-slot="0">
              <strong>Slot 01</strong>
              <span data-slot-label="0">Vazio</span>
            </button>
            <button class="scene-play" data-slot="0">Carregar</button>
          </li>
          <li>
            <button class="scene-slot" data-slot="1">
              <strong>Slot 02</strong>
              <span data-slot-label="1">Vazio</span>
            </button>
            <button class="scene-play" data-slot="1">Carregar</button>
          </li>
          <li>
            <button class="scene-slot" data-slot="2">
              <strong>Slot 03</strong>
              <span data-slot-label="2">Vazio</span>
            </button>
            <button class="scene-play" data-slot="2">Carregar</button>
          </li>
          <li>
            <button class="scene-slot" data-slot="3">
              <strong>Slot 04</strong>
              <span data-slot-label="3">Vazio</span>
            </button>
            <button class="scene-play" data-slot="3">Carregar</button>
          </li>
        </ul>
        <p class="scene-note">Slots salvam pulsos, kit, BPM, swing/humanize e padrões. Carregue para continuar de onde parou.</p>
      </section>

      <section class="chord-loom">
        <h2>Chord Loom</h2>
        <p>Dispare progressões vivas para alimentar o sequenciador ou gerar novas melodias.</p>
        <div class="chord-grid" role="group" aria-label="Pads harmônicos">
          <button class="chord-pad" data-chord="sunrise">Sunrise Neon</button>
          <button class="chord-pad" data-chord="glow">Glow Cascade</button>
          <button class="chord-pad" data-chord="flux">Flux Mirage</button>
          <button class="chord-pad" data-chord="gravity">Zero Gravity</button>
        </div>
        <p class="chord-note">Cada pad injeta vozes no mix atual, gera eventos no feed e aumenta a barra de melodias.</p>
      </section>

      <section class="quests">
        <h2>Missões de hoje</h2>
        <ul id="quest-list"></ul>
      </section>
    </main>

    <footer class="footnote">
      <p>Arcade experimental para hackear o tédio e manter jovens em estado de flow.</p>
    </footer>

    <template id="pulse-template">
      <button class="pulse" type="button">
        <span class="pulse-ring"></span>
        <span class="pulse-core"></span>
        <span class="pulse-label"></span>
      </button>
    </template>

    <script src="app.js" type="module"></script>
  </body>
</html>
